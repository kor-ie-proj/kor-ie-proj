# 데이터 전처리 (Data Preprocessing)

한국 건설업계 경기 예측을 위한 ECOS 경제지표 및 DART 재무데이터 전처리 과정

## 📁 파일 구조
```
preprocessing/
├── preprocessing.ipynb     # 전처리 노트북
└── README.md              # 이 파일
```

## 🔄 전처리 과정

### 1. ECOS 경제 데이터 전처리

#### 1.1 데이터 로드
- **파일**: `../ecos/economic_data_merged.csv`
- **데이터 크기**: 120개 행 × 20개 컬럼
- **기간**: 2015년 10월 ~ 2025년 9월
- **포함 지표**: 
  - 금리: 기준금리, 국고채, 회사채
  - 물가: CPI, PPI, 수입물가
  - 환율: 원/달러
  - 경기: BSI, ESI, CCSI, 선행지수
  - 부동산: 매매가격지수, 전세가격지수
  - 통화: M2 증가율

#### 1.2 날짜 전처리
- **변환**: YYYYMM 형식 → datetime 형식
- **월말일 변경**: 각 월의 마지막 날로 변경
  ```python
  ecos_data['date'] = ecos_data['date'] + pd.offsets.MonthEnd(0)
  ```
- **결과**: 2015-10-31 ~ 2025-08-31

#### 1.3 기간 조정
- **현재 달 제외**: 2025년 9월 데이터 제거
- **최종 기간**: 2015년 10월 ~ 2025년 8월 (119개월)
- **사유**: 현재 진행 중인 달의 불완전한 데이터 제외

#### 1.4 시각화 분석
##### 주요 경제지표 시계열 그래프
- 한국은행 기준금리: 2020년 급등 후 2024년부터 하락 추세
- 소비자물가지수: 지속적 상승 추세
- 원/달러 환율: 2022년 급등 후 변동성 지속
- 건설업 BSI 실적: 기준선(100) 대비 대부분 하회

##### 상관관계 분석
건설업 BSI 실적과의 상관관계 (상위 5개):
1. **건설업 BSI 전망**: 0.91 (매우 높음)
2. **경제심리지수(ESI)**: 0.90 (매우 높음)
3. **선행지수**: 0.70 (높음)
4. **CCSI**: 0.45 (중간)
5. **수입물가지수(철강)**: 0.44 (중간)

#### 1.5 데이터 스케일링
- **방법**: StandardScaler (평균 0, 표준편차 1)
- **대상**: 모든 수치형 컬럼 (날짜 제외)
- **결측값 처리**: Forward fill → Backward fill
- **결과 변수**: `ecos_scaled_df`

### 2. DART 건설업 재무 데이터 전처리

#### 2.1 데이터 로드
- **파일**: `../dart/dart_out/건설10_11년로드_2015~2024_연결_분기재무_정규화.csv`
- **데이터 크기**: 370개 행 × 11개 컬럼
- **포함 기업**: 건설업 상위 10개 기업
- **기간**: 2015~2024년 분기별 데이터
- **재무지표**:
  - 자산총계, 부채총계, 자본총계
  - 매출액, 영업이익, 분기순이익
  - 기업명, 기업코드, 연도, 분기, 보고서 날짜

## 📊 주요 인사이트

### 경제지표 특성
1. **높은 상관관계 그룹**: BSI 전망, ESI, 선행지수
2. **금리 민감도**: 기준금리와 시장금리 간 높은 연동성
3. **물가 안정성**: CPI는 꾸준한 상승세, PPI는 변동성 존재
4. **환율 영향**: 원달러 환율이 수입물가에 직접적 영향

### 건설업 특성
1. **경기 선행성**: ESI, 선행지수와 높은 상관관계
2. **기대심리**: BSI 전망과 실적 간 강한 연관성
3. **소비심리**: CCSI와 중간 수준의 상관관계

## 🛠 기술적 세부사항

### 사용된 라이브러리
```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.preprocessing import StandardScaler
```

### 주요 전처리 함수
```python
# 날짜 월말일 변환
pd.to_datetime() + pd.offsets.MonthEnd(0)

# 표준화 스케일링
StandardScaler().fit_transform()

# 결측값 처리
df.fillna(method='ffill').fillna(method='bfill')
```

## 📈 다음 단계
1. DART 재무데이터 상세 전처리
2. ECOS-DART 데이터 통합
3. 피처 엔지니어링
4. 머신러닝 모델 적용

## 📝 참고사항
- 모든 날짜는 월말일 기준으로 통일
- 결측값은 시계열 특성을 고려하여 forward fill 적용
- 스케일링은 모델 학습 전에 수행
- 상관관계 분석을 통한 주요 변수 식별 완료
